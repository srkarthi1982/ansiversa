---
import Button from "../../../components/Button.astro";
import SectionHeading from "../../../components/SectionHeading.astro";

const planRows = [
  { feature: "Library access", free: "Core physics & math sets", pro: "Full catalog + collections" },
  { feature: "Solver", free: "Numeric only", pro: "Step-by-step + dimensional check" },
  { feature: "Exports", free: "Markdown", pro: "Markdown • PDF • LaTeX" },
  { feature: "Favorites & notes", free: "—", pro: "Save private notes" },
  { feature: "API rate", free: "60 req / day", pro: "1,000 req / day" },
];

const roadmapItems = [
  {
    title: "Symbolic CAS expansion",
    description: "Add more advanced algebraic manipulations for non-linear rearrangements in v2.",
  },
  {
    title: "Graphing overlays",
    description: "Plot parameter relationships (s vs t, v vs t) directly on formula pages.",
  },
  {
    title: "Teacher sharing",
    description: "Assemble custom collections and share read-only links with teams.",
  },
];

const collaborationCards = [
  {
    name: "History & favorites",
    description: "Track recently viewed formulas, pin favorites, and attach quick notes for revision.",
    icon: "fas fa-clock-rotate-left",
  },
  {
    name: "Collections",
    description: "Bundle formulas into board-aligned packs such as CBSE or IIT-JEE, ready to export or assign.",
    icon: "fas fa-layer-group",
  },
  {
    name: "Workspace links",
    description: "Open Homework Helper or Lesson Builder with the formula context intact for downstream planning.",
    icon: "fas fa-diagram-project",
  },
];
---
<section class="bg-slate-50 py-20 sm:py-24">
  <div class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8">
    <SectionHeading
      eyebrow="Plans & rollout"
      title="Ready for launch with a clear growth path"
      description="Ship a polished v1 with core syllabus coverage, then layer in CAS, graphing, and teacher collaboration for v2+."
      align="center"
      containerClass="max-w-3xl"
    />
    <div class="mt-16 grid gap-12 lg:grid-cols-[1.1fr_0.9fr] lg:items-start">
      <div class="space-y-8">
        <div class="overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-sm">
          <table class="w-full border-collapse text-left text-sm text-slate-600">
            <caption class="sr-only">Formula Finder plan comparison</caption>
            <thead class="bg-slate-100 text-[11px] uppercase tracking-[0.35em] text-indigo-500">
              <tr>
                <th scope="col" class="px-5 py-3 text-slate-600">Feature</th>
                <th scope="col" class="px-5 py-3 text-slate-600">Free</th>
                <th scope="col" class="px-5 py-3 text-slate-600">Pro</th>
              </tr>
            </thead>
            <tbody>
              {planRows.map((row) => (
                <tr class="border-t border-slate-200">
                  <th scope="row" class="px-5 py-4 text-sm font-semibold text-slate-900">{row.feature}</th>
                  <td class="px-5 py-4 text-sm">{row.free}</td>
                  <td class="px-5 py-4 text-sm font-medium text-slate-900">{row.pro}</td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
        <div class="rounded-3xl border border-indigo-100 bg-indigo-50/70 p-6 shadow-inner">
          <h3 class="text-sm font-semibold uppercase tracking-[0.35em] text-indigo-500">Usage guardrails</h3>
          <ul class="mt-3 space-y-3 text-sm text-slate-600">
            <li class="rounded-2xl border border-indigo-100 bg-white/90 px-4 py-3">
              <strong class="text-slate-900">Search:</strong> 30 requests per minute per user.
            </li>
            <li class="rounded-2xl border border-indigo-100 bg-white/90 px-4 py-3">
              <strong class="text-slate-900">Solve:</strong> 10 requests per minute per user (unit-heavy).
            </li>
            <li class="rounded-2xl border border-indigo-100 bg-white/90 px-4 py-3">
              <strong class="text-slate-900">Rearrange:</strong> 5 requests per minute per user (cache isolates).
            </li>
          </ul>
        </div>
      </div>
      <div class="space-y-8">
        <div class="rounded-3xl border border-slate-200 bg-white p-6 shadow-sm">
          <h3 class="text-sm font-semibold uppercase tracking-[0.35em] text-indigo-500">Collaboration surfaces</h3>
          <div class="mt-4 grid gap-4">
            {collaborationCards.map((card) => (
              <article class="flex gap-4 rounded-2xl border border-slate-200 bg-slate-50/70 p-4">
                <span class="mt-1 inline-flex h-10 w-10 flex-none items-center justify-center rounded-2xl bg-indigo-100 text-indigo-600">
                  <i class={`${card.icon} text-lg`} aria-hidden="true"></i>
                </span>
                <div>
                  <h4 class="text-base font-semibold text-slate-900">{card.name}</h4>
                  <p class="mt-1 text-sm text-slate-600">{card.description}</p>
                </div>
              </article>
            ))}
          </div>
        </div>
        <div class="rounded-3xl border border-slate-200 bg-white p-6 shadow-sm">
          <h3 class="text-sm font-semibold uppercase tracking-[0.35em] text-indigo-500">Roadmap next</h3>
          <ul class="mt-4 space-y-3 text-sm text-slate-600">
            {roadmapItems.map((item) => (
              <li class="rounded-2xl border border-slate-200 bg-slate-50/70 px-4 py-3">
                <p class="font-semibold text-slate-900">{item.title}</p>
                <p class="text-sm">{item.description}</p>
              </li>
            ))}
          </ul>
          <div class="mt-5 flex flex-wrap gap-3">
            <Button href="/formula/tools/solver" variant="outline" size="sm">
              <i class="fas fa-calculator text-[11px]" aria-hidden="true"></i>
              Solver workspace
            </Button>
            <Button href="/formula/collections" variant="ghost" size="sm" class="text-slate-600 hover:text-slate-900">
              <i class="fas fa-layer-group text-[11px]" aria-hidden="true"></i>
              Collections hub
            </Button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
