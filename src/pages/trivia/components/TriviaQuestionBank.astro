---
import SectionHeading from '../../../components/SectionHeading.astro';
---
<section class="bg-slate-50 py-16" x-data="() => ({ store: $store.triviaArena })">
  <div class="mx-auto max-w-6xl space-y-10 px-4 sm:px-6 lg:px-8">
    <SectionHeading
      eyebrow="Question bank"
      title="Curate, import, and version question packs"
      description="Built-in sets cover core subjects, while CSV/JSON imports and Quiz Institute integrations unlock custom packs for classrooms and communities."
      align="center"
    />
    <div class="grid gap-6 lg:grid-cols-[minmax(0,1.3fr)_minmax(0,1fr)]">
      <div class="space-y-6 rounded-3xl border border-slate-200 bg-white p-6 shadow-soft">
        <h3 class="text-lg font-semibold text-slate-900">Pack catalogue</h3>
        <ul class="space-y-4 text-sm text-slate-600">
          <template x-for="pack in store.state.questionPacks" :key="pack.id">
            <li class="rounded-2xl border border-slate-200 px-4 py-3">
              <div class="flex flex-wrap items-center justify-between gap-3">
                <div>
                  <p class="font-semibold text-slate-900" x-text="pack.title"></p>
                  <p class="text-xs text-slate-500" x-text="pack.description"></p>
                </div>
                <div class="flex flex-col items-end text-xs text-slate-500">
                  <span class="rounded-full bg-indigo-100 px-3 py-1 font-semibold text-indigo-700" x-text="pack.category"></span>
                  <span class="mt-1" x-text="`${pack.size} questions · ${pack.difficulty}`"></span>
                  <span class="mt-1 capitalize" x-text="`${pack.visibility} · ${pack.source}`"></span>
                </div>
              </div>
            </li>
          </template>
        </ul>
      </div>
      <aside class="space-y-6 rounded-3xl border border-dashed border-indigo-200 bg-indigo-50/60 p-6 text-sm text-slate-700">
        <div>
          <h3 class="text-lg font-semibold text-slate-900">Import pipeline</h3>
          <ul class="mt-3 space-y-2">
            <li class="flex items-start gap-2">
              <i class="fas fa-file-csv text-indigo-500"></i>
              <span>Validate CSV/JSON against schema, dedupe by hash, and generate import receipts.</span>
            </li>
            <li class="flex items-start gap-2">
              <i class="fas fa-cloud-arrow-down text-indigo-500"></i>
              <span>Pull by Quiz Institute ID with mapping to pack metadata and attribution.</span>
            </li>
            <li class="flex items-start gap-2">
              <i class="fas fa-share text-indigo-500"></i>
              <span>Export results and stats to CSV/JSON for LMS uploads or sponsors.</span>
            </li>
          </ul>
        </div>
        <div>
          <h3 class="text-lg font-semibold text-slate-900">API endpoints</h3>
          <ul class="mt-3 space-y-1 font-mono text-xs text-slate-600">
            <li><code>POST /trivia/api/bank/import</code></li>
            <li><code>GET /trivia/api/bank/list</code></li>
            <li><code>POST /trivia/api/game/create</code></li>
            <li><code>POST /trivia/api/game/powerup</code></li>
            <li><code>GET /trivia/api/leaderboard</code></li>
          </ul>
        </div>
      </aside>
    </div>
  </div>
</section>
