---
import Button from '../../../components/Button.astro';
---
<section class="relative overflow-hidden bg-slate-950">
  <div class="absolute inset-0">
    <div class="absolute inset-0 bg-gradient-to-br from-indigo-600/30 via-slate-900 to-slate-950"></div>
    <div class="absolute -top-32 -left-24 h-72 w-72 rounded-full bg-emerald-500/20 blur-3xl"></div>
    <div class="absolute bottom-0 right-0 h-64 w-64 rounded-full bg-sky-500/20 blur-3xl"></div>
  </div>
  <div
    class="relative mx-auto max-w-6xl px-4 py-20 sm:px-6 lg:px-8 lg:py-24"
    x-data="() => ({ speech: Alpine.store('speechWriter') })"
    x-init="speech.init()"
  >
    <div class="grid gap-14 lg:grid-cols-[1.15fr_0.85fr] lg:items-center">
      <div class="space-y-8 text-center lg:text-left">
        <span
          class="inline-flex items-center gap-2 rounded-full bg-white/10 px-4 py-1.5 text-sm font-semibold text-indigo-100"
        >
          <i class="fas fa-microphone-lines text-xs"></i>
          Audience-aware speech studio
        </span>
        <h1 class="text-4xl font-bold tracking-tight text-white sm:text-5xl">
          Speech Writer crafts time-accurate, source-backed speeches ready for teleprompter delivery
        </h1>
        <p class="mx-auto max-w-2xl text-base text-indigo-100 sm:text-lg lg:mx-0">
          Go from thoughtful brief to persuasive outline, full draft, rehearsal suite, and export hub in one flow.
          Control tone, pacing, rhetorical devices, and multilingual output while keeping every quote and cue organised.
        </p>
        <div class="flex flex-wrap items-center justify-center gap-3 lg:justify-start">
          <Button type="button" @click.prevent="speech.startBrief()">
            <i class="fas fa-wand-magic-sparkles text-xs"></i>
            Start new brief
          </Button>
          <Button type="button" variant="outline" @click.prevent="speech.generateOutline()">
            <i class="fas fa-diagram-project text-xs"></i>
            Generate outline
          </Button>
          <Button type="button" variant="ghost" class="text-indigo-200 hover:bg-white/10" @click.prevent="speech.cycleTemplate('next')">
            <i class="fas fa-rotate text-xs"></i>
            Swap template
          </Button>
        </div>
        <dl class="grid gap-4 text-left sm:grid-cols-2 lg:grid-cols-4">
          <div class="rounded-2xl border border-white/10 bg-white/5 p-4">
            <dt class="text-xs font-semibold uppercase tracking-wide text-indigo-200">Target words</dt>
            <dd class="mt-1 text-3xl font-bold text-white" x-text="speech.metrics.words.toLocaleString()"></dd>
            <dd class="mt-1 text-xs text-indigo-100">Auto balanced to stay within ±5% of the goal.</dd>
          </div>
          <div class="rounded-2xl border border-white/10 bg-white/5 p-4">
            <dt class="text-xs font-semibold uppercase tracking-wide text-indigo-200">Estimated minutes</dt>
            <dd class="mt-1 text-3xl font-bold text-white" x-text="speech.metrics.minutes.toFixed(1)"></dd>
            <dd class="mt-1 text-xs text-indigo-100">Includes pause budget and applause marks.</dd>
          </div>
          <div class="rounded-2xl border border-white/10 bg-white/5 p-4">
            <dt class="text-xs font-semibold uppercase tracking-wide text-indigo-200">Target pace</dt>
            <dd class="mt-1 text-3xl font-bold text-white" x-text="`${speech.metrics.wpm} WPM`"></dd>
            <dd class="mt-1 text-xs text-indigo-100">Swap pacing profiles per persona instantly.</dd>
          </div>
          <div class="rounded-2xl border border-white/10 bg-white/5 p-4">
            <dt class="text-xs font-semibold uppercase tracking-wide text-indigo-200">Workflow progress</dt>
            <dd class="mt-1 text-3xl font-bold text-white" x-text="`${speech.metrics.progressPercent}%`"></dd>
            <dd class="mt-1 text-xs text-indigo-100">Brief → Outline → Draft → Practice → Teleprompter.</dd>
          </div>
        </dl>
        <div class="grid gap-3 sm:grid-cols-2 lg:grid-cols-4">
          <template x-for="highlight in speech.heroHighlights" :key="highlight.label">
            <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-left">
              <div class="flex items-center gap-2 text-sm font-semibold text-white">
                <i :class="`${highlight.icon} text-indigo-300 text-xs`"></i>
                <span x-text="highlight.label"></span>
              </div>
              <p class="mt-2 text-xs text-indigo-100" x-text="highlight.blurb"></p>
            </div>
          </template>
        </div>
      </div>
      <div class="relative">
        <div class="absolute inset-0 translate-x-5 translate-y-5 rounded-3xl bg-indigo-500/20 blur-3xl"></div>
        <div class="relative space-y-6 rounded-3xl border border-white/10 bg-white/5 p-6 shadow-[0_32px_80px_rgba(12,20,40,0.55)]">
          <header class="flex items-center justify-between gap-3 text-left">
            <div>
              <p class="text-sm font-semibold text-white" x-text="speech.selectedTemplate?.name ?? 'Speech template'"></p>
              <p class="text-xs text-indigo-100" x-text="speech.metrics.audience"></p>
            </div>
            <span class="inline-flex items-center gap-2 rounded-full bg-indigo-400/20 px-3 py-1 text-xs font-semibold text-indigo-100">
              <i class="fas fa-language text-[10px]"></i>
              <span x-text="speech.metrics.language"></span>
            </span>
          </header>
          <p class="text-sm text-indigo-100" x-text="speech.selectedTemplate?.highlight"></p>
          <div class="rounded-2xl border border-white/10 bg-white/5 p-4">
            <h3 class="text-xs font-semibold uppercase tracking-wide text-indigo-200">Outline preview</h3>
            <ul class="mt-3 space-y-3">
              <template x-for="section in speech.selectedTemplate?.outline ?? []" :key="section.title">
                <li class="rounded-xl border border-white/10 bg-slate-900/40 p-3">
                  <p class="text-sm font-semibold text-white" x-text="section.title"></p>
                  <ul class="mt-2 space-y-1 text-xs text-indigo-100">
                    <template x-for="point in section.bullets" :key="point">
                      <li class="flex items-start gap-2">
                        <i class="fas fa-check text-[9px] text-emerald-400 mt-0.5"></i>
                        <span x-text="point"></span>
                      </li>
                    </template>
                  </ul>
                </li>
              </template>
            </ul>
          </div>
          <div class="rounded-2xl border border-white/10 bg-white/5 p-4">
            <div class="flex items-center justify-between gap-3">
              <h3 class="text-xs font-semibold uppercase tracking-wide text-indigo-200">Cue planning</h3>
              <button
                type="button"
                class="inline-flex items-center gap-2 text-[11px] font-semibold text-indigo-200 hover:text-white"
                @click="speech.generateDraft()"
              >
                <i class="fas fa-pen-to-square text-[9px]"></i>
                Draft with cues
              </button>
            </div>
            <ul class="mt-3 space-y-2 text-xs text-indigo-100">
              <template x-for="cue in speech.selectedTemplate?.cues ?? []" :key="cue">
                <li class="flex items-start gap-2">
                  <i class="fas fa-wave-square mt-0.5 text-[9px] text-sky-300"></i>
                  <span x-text="cue"></span>
                </li>
              </template>
            </ul>
          </div>
          <div class="rounded-2xl border border-indigo-400/20 bg-indigo-500/10 p-4 text-xs text-indigo-100">
            <p class="font-semibold text-white">Recent activity</p>
            <ul class="mt-2 space-y-2">
              <template x-for="item in speech.statusFeed" :key="item.timestamp + item.message">
                <li class="flex items-start justify-between gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-2">
                  <span class="text-left" x-text="item.message"></span>
                  <span class="shrink-0 text-[10px] font-semibold uppercase tracking-wide text-indigo-200" x-text="item.timestamp"></span>
                </li>
              </template>
            </ul>
          </div>
          <div class="flex items-center justify-between rounded-2xl border border-white/10 bg-white/5 p-4 text-xs text-indigo-100">
            <div>
              <p class="font-semibold text-white">Need more time cushion?</p>
              <p class="mt-1">Adjust pacing and pause budget in one click.</p>
            </div>
            <div class="flex flex-col gap-2">
              <button
                type="button"
                class="inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 font-semibold text-indigo-100 transition hover:border-indigo-300 hover:text-white"
                @click="speech.adjustTiming('tighten')"
              >
                <i class="fas fa-minus text-[9px]"></i>
                Tighten
              </button>
              <button
                type="button"
                class="inline-flex items-center gap-2 rounded-full border border-white/20 px-3 py-1 font-semibold text-indigo-100 transition hover:border-indigo-300 hover:text-white"
                @click="speech.adjustTiming('expand')"
              >
                <i class="fas fa-plus text-[9px]"></i>
                Expand
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
