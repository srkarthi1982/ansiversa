---
import Layout from "../../layouts/Layout.astro";
import FeatureCard from "../../components/FeatureCard.astro";
import SectionHeading from "../../components/SectionHeading.astro";

const heroHighlights = [
  {
    label: "Board and competitive presets",
    value: "CBSE, JEE, NEET, SAT",
    icon: "fas fa-graduation-cap",
  },
  {
    label: "Question formats",
    value: "MCQ, numeric, matrix, short answer",
    icon: "fas fa-layer-group",
  },
  {
    label: "Integrated workflows",
    value: "FlashNote · Study Planner · Course Tracker",
    icon: "fas fa-link",
  },
];

const experiencePillars = [
  {
    title: "Faithful mock exam experience",
    description:
      "Deliver timed sections, configurable navigation rules, and seed-based shuffling so every attempt mirrors the real exam while staying reproducible for review.",
    icon: "fas fa-stopwatch",
  },
  {
    title: "Builder and presets",
    description:
      "Curate custom papers with section-level controls or launch instantly with curated presets for major boards and entrance tests.",
    icon: "fas fa-diagram-project",
  },
  {
    title: "Deep post-exam analytics",
    description:
      "Surface accuracy, time per question, topic weaknesses, percentile estimates, and send remediation tasks straight into Study Planner and FlashNote.",
    icon: "fas fa-chart-pie",
  },
];

const flows = [
  {
    title: "Dashboard",
    description:
      "See recent attempts, pinned presets, and quick actions. Resume in-progress tests with preserved clocks and answer palettes.",
    icon: "fas fa-gauge-high",
    eyebrow: "Route: /exam",
  },
  {
    title: "Paper builder",
    description:
      "Compose sections, difficulty mixes, timers, and scoring. Validate total marks and time before publishing to learners.",
    icon: "fas fa-sitemap",
    eyebrow: "Route: /exam/builder",
  },
  {
    title: "Start and configuration",
    description:
      "Learners review instructions, toggle shuffle or attempt rules, and confirm per-section timings before beginning.",
    icon: "fas fa-clipboard-list",
    eyebrow: "Route: /exam/start/[paperId]",
  },
  {
    title: "Live exam player",
    description:
      "Timed navigation with section tabs, palette, flag and review controls, autosave, and keyboard-guard rails to reduce cheating.",
    icon: "fas fa-display",
    eyebrow: "Route: /exam/test/[attemptId]",
  },
  {
    title: "Results and analytics",
    description:
      "Score breakdowns, normalized scores, solution walkthroughs, and one-click exports or revision tasks.",
    icon: "fas fa-chart-line",
    eyebrow: "Route: /exam/result/[attemptId]",
  },
  {
    title: "History and admin",
    description:
      "Attempt archives with filters plus internal tools for seeding papers, mapping topics, and managing presets.",
    icon: "fas fa-database",
    eyebrow: "Routes: /exam/history · /exam/admin",
  },
];

const scoringRules = [
  {
    name: "Paper",
    points: [
      "Title, board/class, subjects",
      "Global time and marks, shuffle seed",
      "Per-section timer and navigation rules",
    ],
  },
  {
    name: "Section",
    points: [
      "Topic focus and question counts",
      "Marks and negative scoring per question",
      "Difficulty composition controls",
    ],
  },
  {
    name: "Question types",
    points: [
      "MCQ single and multi with partial scoring",
      "True/False and numeric entry",
      "Matching grids and short-text evaluators",
    ],
  },
];

const analyticsHighlights = [
  {
    title: "Attempt analytics",
    description:
      "Section-wise accuracy, time per question, difficulty curve, and percentile projections to gauge readiness.",
    icon: "fas fa-magnifying-glass-chart",
  },
  {
    title: "Remediation",
    description:
      "Queue weak topics into Study Planner, generate FlashNotes from solutions, and push follow-up tasks to Course Tracker.",
    icon: "fas fa-arrows-rotate",
  },
  {
    title: "Exports and sharing",
    description:
      "Download PDF/CSV reports or share attempt summaries with mentors in a single click.",
    icon: "fas fa-file-export",
  },
];

const integrations = [
  {
    tier: "Free",
    details: [
      "Access limited preset papers",
      "Two graded attempts per day",
      "Basic review with score and answer key",
    ],
  },
  {
    tier: "Pro",
    details: [
      "Unlimited attempts and all presets",
      "Custom paper builder and exports",
      "Full analytics plus Study Planner and FlashNote actions",
    ],
  },
];

const apiRoutes = [
  {
    label: "Papers and presets",
    endpoints: [
      "GET /exam/api/paper?id=",
      "POST /exam/api/paper/create",
      "POST /exam/api/paper/update",
      "GET /exam/api/preset/list",
    ],
  },
  {
    label: "Delivery and attempts",
    endpoints: [
      "POST /exam/api/attempt/start",
      "GET /exam/api/attempt?id=",
      "POST /exam/api/answer/save",
      "POST /exam/api/attempt/submit",
      "GET /exam/api/result?id=",
      "GET /exam/api/history",
    ],
  },
  {
    label: "Analytics and actions",
    endpoints: [
      "GET /exam/api/analysis?attemptId=",
      "POST /exam/api/flashnote/add",
      "POST /exam/api/planner/schedule",
      "POST /exam/api/export",
    ],
  },
];
---
<Layout>
  <main class="bg-slate-50">
    <section class="relative overflow-hidden py-16 sm:py-24">
      <div class="absolute inset-0 -z-10 bg-gradient-to-br from-indigo-100 via-white to-transparent"></div>
      <div class="relative mx-auto max-w-6xl px-4 sm:px-6 lg:px-8">
        <div class="grid gap-12 lg:grid-cols-[1.05fr_0.95fr] lg:items-center">
          <div class="space-y-6 text-center lg:text-left">
            <span class="inline-flex items-center gap-2 rounded-full bg-indigo-100 px-4 py-1.5 text-sm font-semibold text-indigo-700">
              <i class="fas fa-star text-xs"></i>
              Exam Simulator
            </span>
            <h1 class="text-4xl font-bold tracking-tight text-slate-900 sm:text-5xl">
              Launch realistic, analytics-driven mock exams in minutes
            </h1>
            <p class="text-base text-slate-600 sm:text-lg">
              Exam Simulator combines curated presets, a powerful paper builder, and deep review tooling. Deliver timed sections, autosave-protected attempts, and personalised remediation connected to the rest of Ansiversa's learning ecosystem.
            </p>
            <div class="flex flex-wrap items-center justify-center gap-3 lg:justify-start">
              <a
                href="#flows"
                class="inline-flex items-center gap-2 rounded-full bg-indigo-600 px-6 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:bg-indigo-700"
              >
                <i class="fas fa-route text-xs"></i>
                Explore the workflow
              </a>
              <a
                href="#api"
                class="inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-6 py-2.5 text-sm font-semibold text-slate-700 transition hover:border-slate-300 hover:text-slate-900"
              >
                <i class="fas fa-code text-xs"></i>
                Review API surface
              </a>
            </div>
          </div>
          <div class="grid gap-4">
            <div class="rounded-3xl border border-slate-200 bg-white p-6 shadow-soft">
              <h2 class="text-sm font-semibold uppercase tracking-[0.3em] text-indigo-500">At a glance</h2>
              <div class="mt-5 grid gap-4 sm:grid-cols-3">
                {heroHighlights.map((item) => (
                  <div class="rounded-2xl border border-slate-100 bg-slate-50/80 p-4 text-left">
                    <div class="flex items-center gap-2 text-indigo-600">
                      <i class={`${item.icon} text-sm`} aria-hidden="true"></i>
                      <span class="text-xs font-semibold uppercase tracking-wide text-slate-500">{item.label}</span>
                    </div>
                    <p class="mt-3 text-sm font-medium text-slate-900">{item.value}</p>
                  </div>
                ))}
              </div>
            </div>
            <div class="rounded-3xl border border-indigo-100 bg-indigo-50/60 p-6 text-left shadow-soft">
              <p class="text-sm font-semibold uppercase tracking-wide text-indigo-600">Plan gating</p>
              <div class="mt-4 grid gap-4 sm:grid-cols-2">
                {integrations.map((tier) => (
                  <div class="rounded-2xl border border-white/60 bg-white/70 p-4">
                    <p class="text-sm font-semibold text-slate-900">{tier.tier}</p>
                    <ul class="mt-2 space-y-1 text-sm text-slate-600">
                      {tier.details.map((detail) => (
                        <li class="flex gap-2">
                          <i class="fas fa-check text-xs text-emerald-500 mt-1"></i>
                          <span>{detail}</span>
                        </li>
                      ))}
                    </ul>
                  </div>
                ))}
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="py-16">
      <div class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8">
        <SectionHeading
          align="center"
          eyebrow="OBJECTIVES"
          title="Build confidence with a true-to-life exam journey"
          description="Exam Simulator focuses on authenticity, reliability, and actionable feedback so learners can practice, submit, and improve without friction."
        />
        <div class="mt-12 grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
          {experiencePillars.map((item) => (
            <FeatureCard {...item} />
          ))}
        </div>
      </div>
    </section>

    <section id="flows" class="bg-white py-16">
      <div class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8">
        <SectionHeading
          align="center"
          eyebrow="ROUTE MAP"
          title="From preset to analytics in six guided steps"
          description="Each route below corresponds to a dedicated page in the Exam Simulator experience."
        />
        <div class="mt-12 grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
          {flows.map((flow) => (
            <FeatureCard
              {...flow}
              baseClass="h-full rounded-3xl border border-slate-200 bg-slate-50 p-6 shadow-none"
              iconWrapperClass="flex h-10 w-10 items-center justify-center rounded-xl bg-indigo-500/10 text-indigo-600"
              descriptionClass="mt-3 text-sm text-slate-600"
            />
          ))}
        </div>
      </div>
    </section>

    <section class="py-16">
      <div class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 space-y-12">
        <SectionHeading
          align="center"
          eyebrow="SCORING MODEL"
          title="Flexible papers with advanced scoring logic"
          description="Model your exams with granular control over time, difficulty, and evaluation rules."
        />
        <div class="grid gap-6 lg:grid-cols-3">
          {scoringRules.map((item) => (
            <div class="rounded-3xl border border-slate-200 bg-white p-6 shadow-soft">
              <div class="flex items-center gap-2 text-indigo-600">
                <i class="fas fa-cube text-sm" aria-hidden="true"></i>
                <p class="text-sm font-semibold uppercase tracking-wide">{item.name}</p>
              </div>
              <ul class="mt-4 space-y-3 text-sm text-slate-600">
                {item.points.map((point) => (
                  <li class="flex gap-2">
                    <i class="fas fa-circle text-[0.4rem] text-indigo-400 mt-1.5"></i>
                    <span>{point}</span>
                  </li>
                ))}
              </ul>
            </div>
          ))}
        </div>
        <div class="rounded-3xl border border-indigo-100 bg-indigo-50/60 p-8">
          <h3 class="text-xl font-semibold text-slate-900">Navigation and fairness</h3>
          <div class="mt-4 grid gap-6 lg:grid-cols-2">
            <div>
              <p class="text-sm text-slate-600">
                Configure focus-loss detection, keyboard shortcut blocking, and answer locking rules. Autosave keeps attempts resilient to connection drops, while timer warnings trigger at 10%, 5%, and 1% thresholds.
              </p>
            </div>
            <div>
              <ul class="space-y-2 text-sm text-slate-600">
                <li class="flex gap-2">
                  <i class="fas fa-shield text-xs text-indigo-500 mt-1"></i>
                  <span>Client guard rails: focus tracking, optional fullscreen prompts, copy/paste restrictions.</span>
                </li>
                <li class="flex gap-2">
                  <i class="fas fa-cloud text-xs text-indigo-500 mt-1"></i>
                  <span>Server-time authoritative clock eliminates local tampering.</span>
                </li>
                <li class="flex gap-2">
                  <i class="fas fa-rotate text-xs text-indigo-500 mt-1"></i>
                  <span>Seeded shuffling keeps exams reproducible for moderators and retakes.</span>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="bg-white py-16">
      <div class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8">
        <SectionHeading
          align="center"
          eyebrow="RESULTS"
          title="Diagnostics that drive action"
          description="Immediate insights guide learners toward the next best step after every attempt."
        />
        <div class="mt-12 grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
          {analyticsHighlights.map((highlight) => (
            <FeatureCard {...highlight} />
          ))}
        </div>
      </div>
    </section>

    <section id="api" class="py-16">
      <div class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 space-y-12">
        <SectionHeading
          align="center"
          eyebrow="API SURFACE"
          title="Endpoints powering the simulator"
          description="Server-rendered routes handle paper delivery, attempts, analytics, and downstream integrations."
        />
        <div class="grid gap-6 lg:grid-cols-3">
          {apiRoutes.map((group) => (
            <div class="rounded-3xl border border-slate-200 bg-white p-6 shadow-soft">
              <p class="text-sm font-semibold uppercase tracking-wide text-indigo-500">{group.label}</p>
              <ul class="mt-4 space-y-2 text-sm text-slate-600">
                {group.endpoints.map((endpoint) => (
                  <li class="flex gap-2">
                    <i class="fas fa-terminal text-xs text-slate-500 mt-1"></i>
                    <span>{endpoint}</span>
                  </li>
                ))}
              </ul>
            </div>
          ))}
        </div>
        <div class="rounded-3xl border border-slate-200 bg-white p-8 shadow-soft">
          <div class="grid gap-6 lg:grid-cols-[1fr_1.1fr] lg:items-center">
            <div class="space-y-3">
              <p class="text-xs font-semibold uppercase tracking-[0.35em] text-indigo-500">Data Model Snapshot</p>
              <h3 class="text-2xl font-semibold text-slate-900">Entities and relationships</h3>
              <p class="text-sm text-slate-600">
                The simulator revolves around curated papers, tracked attempts, and analysed results. Each entity supports integrations with other Ansiversa learning tools.
              </p>
            </div>
            <div class="rounded-2xl border border-dashed border-indigo-200 bg-indigo-50/70 p-6">
              <dl class="grid gap-4 sm:grid-cols-2 text-sm text-slate-700">
                <div>
                  <dt class="font-semibold text-slate-900">Paper</dt>
                  <dd>Defines sections, timers, shuffle seed, and scoring template.</dd>
                </div>
                <div>
                  <dt class="font-semibold text-slate-900">Section</dt>
                  <dd>Groups questions by subject/topic with difficulty mix and marking rules.</dd>
                </div>
                <div>
                  <dt class="font-semibold text-slate-900">Attempt</dt>
                  <dd>Stores learner session state, timer status, and palette metadata.</dd>
                </div>
                <div>
                  <dt class="font-semibold text-slate-900">Answer</dt>
                  <dd>Autosaved responses, flags, and timestamps.</dd>
                </div>
                <div>
                  <dt class="font-semibold text-slate-900">Result</dt>
                  <dd>Computed score, normalized marks, percentile, and insights.</dd>
                </div>
                <div>
                  <dt class="font-semibold text-slate-900">Preset</dt>
                  <dd>Reusable templates aligned to boards or competitive exams.</dd>
                </div>
                <div>
                  <dt class="font-semibold text-slate-900">Explainer</dt>
                  <dd>Stores step-by-step solutions and FlashNote handoffs.</dd>
                </div>
              </dl>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="py-16">
      <div class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8">
        <div class="rounded-3xl border border-emerald-100 bg-emerald-50/70 p-8 shadow-soft">
          <div class="grid gap-6 lg:grid-cols-[1fr_auto] lg:items-center">
            <div>
              <p class="text-xs font-semibold uppercase tracking-[0.35em] text-emerald-600">NEXT STEPS</p>
              <h3 class="mt-3 text-2xl font-semibold text-slate-900">Tie attempts back to the learning loop</h3>
              <p class="mt-4 text-sm text-slate-600">
                Push incorrect questions into FlashNote decks, schedule focused revisions inside Study Planner, or connect exam completion to Course Tracker milestones. Exam Simulator keeps practice, review, and planning tightly integrated.
              </p>
            </div>
            <a
              href="/study-planner"
              class="inline-flex items-center gap-2 rounded-full bg-emerald-500 px-6 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:bg-emerald-600"
            >
              <i class="fas fa-arrow-right text-xs"></i>
              Explore Study Planner
            </a>
          </div>
        </div>
      </div>
    </section>
  </main>
</Layout>
