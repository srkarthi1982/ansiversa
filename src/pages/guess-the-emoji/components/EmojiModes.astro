---
import Button from '../../../components/Button.astro';
---
<section class="py-16 sm:py-20">
  <div class="mx-auto max-w-6xl space-y-12 px-4 sm:px-6 lg:px-8">
    <header class="flex flex-col gap-6 text-center lg:flex-row lg:items-end lg:justify-between lg:text-left">
      <div class="space-y-3">
        <span class="inline-flex items-center gap-2 rounded-full bg-sky-100 px-4 py-1.5 text-sm font-semibold text-sky-700">
          <i class="fas fa-layer-group text-xs"></i>
          Game modes
        </span>
        <h2 class="text-3xl font-bold tracking-tight text-slate-900 sm:text-4xl">Pick your pace and play style</h2>
        <p class="text-base text-slate-600">
          From relaxed classic runs to heart-racing Time Attack streaks, each mode uses server-side validation and anti-cheat timers
          so every solve stays fair.
        </p>
      </div>
      <div class="space-y-2 text-left text-sm text-slate-500 lg:max-w-sm">
        <p>
          <i class="fas fa-signal text-[10px] text-sky-500"></i>
          Active mode:
          <span class="font-semibold text-slate-700" x-text="emoji.activeMode?.name ?? 'Classic Solo'"></span>
        </p>
        <p x-text="emoji.activeMode?.tagline"></p>
      </div>
    </header>
    <div class="grid gap-6 lg:grid-cols-2">
      <template x-for="mode in emoji.state.modes" :key="mode.id">
        <article
          class="flex h-full flex-col rounded-3xl border p-6 shadow-sm transition"
          :class="emoji.state.activeModeId === mode.id
            ? 'border-sky-300 bg-white shadow-lg'
            : 'border-slate-200 bg-white/80 hover:border-sky-200'"
        >
          <div class="flex items-start justify-between gap-4">
            <div class="space-y-3">
              <div class="flex items-center gap-3">
                <span class="inline-flex items-center gap-2 rounded-full bg-sky-50 px-3 py-1 text-xs font-semibold text-sky-700">
                  <i class="fas fa-stopwatch text-[10px]"></i>
                  <span x-text="mode.durationLabel"></span>
                </span>
                <span class="inline-flex items-center gap-2 rounded-full bg-slate-50 px-3 py-1 text-xs font-semibold text-slate-500">
                  <i class="fas fa-users text-[10px]"></i>
                  <span x-text="mode.recommendedFor.join(' Â· ')"></span>
                </span>
              </div>
              <h3 class="text-xl font-semibold text-slate-900" x-text="mode.name"></h3>
              <p class="text-sm text-slate-600" x-text="mode.description"></p>
            </div>
            <Button type="button" size="sm" variant="light" class="border border-slate-200" @click.prevent="emoji.setActiveMode(mode.id)">
              <i class="fas fa-hand-pointer text-[10px]"></i>
              Focus
            </Button>
          </div>
          <div class="mt-6 grid gap-4">
            <div class="rounded-2xl border border-sky-100 bg-sky-50/70 p-4">
              <p class="text-xs font-semibold uppercase tracking-wide text-sky-600">Highlights</p>
              <ul class="mt-2 space-y-2 text-sm text-slate-600">
                <template x-for="highlight in mode.highlights" :key="highlight">
                  <li class="flex items-start gap-2">
                    <i class="fas fa-check-circle mt-0.5 text-[10px] text-sky-500"></i>
                    <span x-text="highlight"></span>
                  </li>
                </template>
              </ul>
            </div>
            <div class="rounded-2xl border border-slate-200 bg-white p-4">
              <p class="text-xs font-semibold uppercase tracking-wide text-slate-500">Scoring</p>
              <dl class="mt-3 grid gap-2 text-sm text-slate-600 sm:grid-cols-2">
                <template x-for="item in mode.scoring" :key="item.label">
                  <div class="rounded-xl border border-slate-100 bg-slate-50/70 px-3 py-2">
                    <dt class="text-xs font-semibold uppercase tracking-wide text-slate-500" x-text="item.label"></dt>
                    <dd class="text-sm font-semibold text-slate-800" x-text="item.value"></dd>
                  </div>
                </template>
              </dl>
            </div>
          </div>
        </article>
      </template>
    </div>
  </div>
</section>
