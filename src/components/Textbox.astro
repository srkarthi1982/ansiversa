---
type Props = {
  id?: string;
  name?: string;
  label?: string;
  wrapperClass?: string;
  inputClass?: string;
  labelClass?: string;
  placeholder?: string;
};

const {
  id,
  name,
  label = "",
  wrapperClass = "",
  inputClass = "",
  labelClass = "block text-sm font-medium text-slate-700",
  placeholder = "",
  type: _ignoredType,
  ...rest
} = Astro.props as Props & Record<string, unknown>;

const randomId = Math.random().toString(36).slice(2);
const inputId = id ?? name ?? `textbox-${randomId}`;
const inputName = name ?? inputId;
const wrapperClassName = ["space-y-1", wrapperClass].filter(Boolean).join(" ");
const inputClassName = [
  "w-full rounded-lg border px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500",
  inputClass,
]
  .filter(Boolean)
  .join(" ");
---
<div class={wrapperClassName}>
  {label && (
    <label for={inputId} class={labelClass}>
      {label}
    </label>
  )}
  <input
    id={inputId}
    name={inputName}
    type="text"
    placeholder={placeholder}
    class={inputClassName}
    {...rest}
  />
</div>
