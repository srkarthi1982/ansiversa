---
import Button from "../Button.astro";
---
<section
  class="relative overflow-hidden bg-gradient-to-br from-violet-700 via-indigo-600 to-slate-900 text-white"
  x-data="{ song: $store['song-lyric-maker'] }"
>
  <div class="absolute inset-0 opacity-40">
    <div class="absolute -left-32 top-12 h-72 w-72 rounded-full bg-emerald-300/30 blur-3xl"></div>
    <div class="absolute bottom-0 right-0 h-64 w-64 rounded-full bg-fuchsia-400/30 blur-3xl"></div>
  </div>
  <div class="relative mx-auto flex max-w-6xl flex-col gap-12 px-4 py-16 sm:px-6 lg:flex-row lg:items-center lg:px-8">
    <div class="flex-1 space-y-6">
      <span class="inline-flex items-center gap-2 rounded-full bg-white/20 px-4 py-1 text-xs font-semibold tracking-[0.3em] uppercase">
        Song Lyric Maker
      </span>
      <h1 class="text-4xl font-black leading-tight sm:text-5xl lg:text-6xl">
        Compose hooks, verses, and bridges with studio-grade guidance
      </h1>
      <p class="max-w-2xl text-base text-white/80 sm:text-lg">
        Spin up sectioned lyric workspaces with rhyme maps, syllable targets, and prosody alerts tuned to each genre.
        Pin the strongest hook, track AI passes, and export performance-ready sheets in minutes.
      </p>
      <div class="flex flex-wrap gap-3">
        <Button type="button" size="lg" @click="song.createProject(song.view.selectedTemplateId)">
          <i class="fa-solid fa-music text-sm"></i>
          Start from selected template
        </Button>
        <Button type="button" size="lg" variant="outline" @click="song.togglePlan()">
          <i class="fa-solid fa-repeat text-sm"></i>
          <span x-text="song.plan === 'free' ? 'Preview Pro plan' : 'View Free limits'"></span>
        </Button>
        <Button
          type="button"
          size="lg"
          variant="ghost"
          class="hidden border-white/40 text-white hover:border-white/80 hover:text-white lg:inline-flex"
          @click="song.selectedProject && song.queueHookGeneration(song.selectedProject.id)"
        >
          <i class="fa-solid fa-sparkles text-sm"></i>
          Generate hook ideas
        </Button>
      </div>
    </div>
    <div class="w-full max-w-sm space-y-4 rounded-3xl border border-white/10 bg-white/10 p-6 shadow-2xl backdrop-blur">
      <header class="flex items-center justify-between text-xs uppercase tracking-[0.3em] text-white/70">
        <span class="inline-flex items-center gap-2">
          <span class="h-2 w-2 animate-pulse rounded-full bg-emerald-300"></span>
          Studio metrics
        </span>
        <span x-text="song.plan === 'free' ? 'Free preview' : 'Pro plan'"></span>
      </header>
      <dl class="grid gap-3 text-sm">
        <div class="rounded-2xl border border-white/15 bg-white/10 px-4 py-3">
          <dt class="text-xs font-semibold uppercase tracking-wide text-white/60">Active workspaces</dt>
          <dd class="mt-1 text-2xl font-semibold" x-text="song.state.metrics.totalProjects"></dd>
          <dd class="text-[11px] text-white/60">Across pop, hip-hop, K-pop, and devotional genres.</dd>
        </div>
        <div class="rounded-2xl border border-white/15 bg-white/10 px-4 py-3">
          <dt class="text-xs font-semibold uppercase tracking-wide text-white/60">Average tempo</dt>
          <dd class="mt-1 text-2xl font-semibold" x-text="`${song.state.metrics.averageBpm} BPM`"></dd>
          <dd class="text-[11px] text-white/60">Tap tempo tools keep sections aligned to the groove.</dd>
        </div>
        <div class="rounded-2xl border border-white/15 bg-white/10 px-4 py-3">
          <dt class="text-xs font-semibold uppercase tracking-wide text-white/60">Hook variants logged</dt>
          <dd class="mt-1 text-2xl font-semibold" x-text="song.state.aiUsage.hooksGenerated"></dd>
          <dd class="text-[11px] text-white/60">Auto-ranked by punchiness and singability.</dd>
        </div>
        <div class="rounded-2xl border border-white/15 bg-white/10 px-4 py-3">
          <dt class="text-xs font-semibold uppercase tracking-wide text-white/60">Exports queued this month</dt>
          <dd class="mt-1 text-2xl font-semibold" x-text="song.state.metrics.exportsThisMonth"></dd>
          <dd class="text-[11px] text-white/60">Lyric sheet, stage kit, and karaoke cue formats.</dd>
        </div>
      </dl>
    </div>
  </div>
</section>
